import{_ as i,c as a,o as n,b0 as e}from"./chunks/framework.Ccoaxoqw.js";const l="/imx6ull-docs/assets/image-20251024073736955.BpLsnwfE.png",p="/imx6ull-docs/assets/image-20251024074132079.DvNEjnpz.png",t="/imx6ull-docs/assets/image-20251024074405757.BSLzT52w.png",h="/imx6ull-docs/assets/image-20230718225611215.TvaItSBp.png",r="/imx6ull-docs/assets/image-20251024075411659.vGz1BjiR.png",k="/imx6ull-docs/assets/image-20251024074759080.DLWu65RX.png",d="/imx6ull-docs/assets/image-20251024075050884.ngQGUdJD.png",c="/imx6ull-docs/assets/image-20251024075119613.C3cYv6dS.png",o="/imx6ull-docs/assets/image-20251024075228668.CBURyMpN.png",v=JSON.parse('{"title":"LV010-nfs环境搭建","description":null,"frontmatter":{"title":"LV010-nfs环境搭建","date":"2025-10-24T07:21:41.000Z","icon":"famicons:logo-markdown","permalink":"/sdoc/dev-env/env-net/126b0f189dcd03e77475b7a1","index":true,"tags":null,"categories":null,"copyright":false,"keywords":null,"cover":null,"comments":null,"mathjax":null,"top":null,"description":null,"tdoc":{"detailDate":"2025-10-24T07:21:41.062Z","fulluuid":"77475b7a1c2d4ca5a7a32c90cf05cd63","useduuid":"77475b7a1"}},"headers":[],"relativePath":"sdoc/dev-env/env-net/126b0f189dcd03e77475b7a1.md","filePath":"sdoc/01-开发环境/15-网络环境/LV010-nfs环境搭建.md","lastUpdated":1760873307000}'),u={name:"sdoc/dev-env/env-net/126b0f189dcd03e77475b7a1.md"};function F(g,s,b,m,y,C){return n(),a("div",null,[...s[0]||(s[0]=[e(`<h1 id="lv010-nfs环境搭建" tabindex="-1">LV010-nfs环境搭建 <a class="header-anchor" href="#lv010-nfs环境搭建" aria-label="Permalink to &quot;LV010-nfs环境搭建&quot;">​</a></h1><h2 id="一、开发环境" tabindex="-1">一、开发环境 <a class="header-anchor" href="#一、开发环境" aria-label="Permalink to &quot;一、开发环境&quot;">​</a></h2><h3 id="_1-windows" tabindex="-1">1. Windows <a class="header-anchor" href="#_1-windows" aria-label="Permalink to &quot;1. Windows&quot;">​</a></h3><div class="language-markdown vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">markdown</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">版本	       Windows 11 专业版</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">版本号	      23H2</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">安装日期	  2024/9/16</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">操作系统版本  22631.4169</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">体验	       Windows Feature Experience Pack 1000.22700.1034.0</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>其中 Windows 通过连接路由器的 WiFi 上网，</p><h3 id="_2-ubuntu" tabindex="-1">2. Ubuntu <a class="header-anchor" href="#_2-ubuntu" aria-label="Permalink to &quot;2. Ubuntu&quot;">​</a></h3><p>Ubuntu 安装在 Windows 中的 VMware 中。</p><ul><li>VMware</li></ul><div class="language-markdown vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">markdown</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">产品：VMware® Workstation 17 Pro</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">版本：17.6.0 build-24238078</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>Ubuntu</li></ul><div class="language-markdown vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">markdown</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;"># uname -a</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Linux sumu-vm 5.15.0-139-generic #149~20.04.1-Ubuntu SMP Wed Apr 16 08:29:56 UTC 2025 x86_64 x86_64 x86_64 GNU/Linux</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;"># lsb_release -a</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">No LSB modules are available.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Distributor ID:	Ubuntu</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Description:	Ubuntu 20.04.6 LTS</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Release:	20.04</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Codename:	focal</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="_3-开发板" tabindex="-1">3. 开发板 <a class="header-anchor" href="#_3-开发板" aria-label="Permalink to &quot;3. 开发板&quot;">​</a></h3><p>正点原子 I.MX6ULL-ALPHA 开发板，系统使用的是出厂系统。</p><ul><li>U-Boot</li></ul><div class="language-markdown vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">markdown</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">U-Boot 2016.03-gee88051 (Nov 05 2021 - 17:59:02 +0800)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CPU:   Freescale i.MX6ULL rev1.1 792 MHz (running at 396 MHz)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CPU:   Industrial temperature grade (-40C to 105C) at 29C</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Reset cause: POR</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Board: I.MX6U ALPHA|MINI</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">I2C:   ready</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DRAM:  512 MiB</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MMC:   FSL_SDHC: 0, FSL_SDHC: 1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li>Linux 内核</li></ul><div class="language-markdown vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">markdown</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;"># uname -a</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Linux ATK-IMX6U 4.1.15-g06f53e4 #1 SMP PREEMPT Sat Nov 27 18:39:27 CST 2021 armv7l armv7l armv7l GNU/Linux</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;"># cat /etc/issue</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Freescale i.MX Release Distro 4.1.15-2.1.0 \\n \\l</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="二、-nfs-环境搭建" tabindex="-1">二、 NFS 环境搭建 <a class="header-anchor" href="#二、-nfs-环境搭建" aria-label="Permalink to &quot;二、 NFS 环境搭建&quot;">​</a></h2><h3 id="_1-nfs-简介" tabindex="-1">1.  NFS 简介 <a class="header-anchor" href="#_1-nfs-简介" aria-label="Permalink to &quot;1.  NFS 简介&quot;">​</a></h3><p>NFS （ Network File System ，网络文件系统），是由 SUN 公司研制的 UNIX 表示层协议( presentation layer protocol )，基于 UDP/IP ，使用 nfs 能够在不同计算机之间通过网络进行文件共享，能使使用者访问网络上别处的文件就像在使用自己的计算机一样。我们可以在 Ubuntu 上制作开发板的根文件系统，然后使用 NFS 来加载根文件系统到开发板的 DDR 上。</p><p>NFS 可以将远程的计算机磁盘挂载到本地，像本地磁盘一样操作，文件还是在服务器中，只是服务器将文件共享给了客户端，客户端实际并没有这些文件。就像我们使用的网盘一样，文件在网盘中，在本地的电脑中实际并不存在，但是我们可以查看这些文件。</p><h3 id="_2-nfs-搭建" tabindex="-1">2.  NFS 搭建 <a class="header-anchor" href="#_2-nfs-搭建" aria-label="Permalink to &quot;2.  NFS 搭建&quot;">​</a></h3><h4 id="_2-1-查看是否已安装" tabindex="-1">2.1 查看是否已安装 <a class="header-anchor" href="#_2-1-查看是否已安装" aria-label="Permalink to &quot;2.1 查看是否已安装&quot;">​</a></h4><p>在终端执行以下命令：</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dpkg</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nfs-kernel-server</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>若是没有安装的话则会有以下提醒：</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dpkg-query:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 系统没有安装软件包</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nfs-kernel-server，因而没有相关的信息</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">使用</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dpkg</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --info</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (= </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">dpkg-deb</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --info</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) 来检测打包好的文件</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="_2-2-安装-nfs" tabindex="-1">2.2 安装 NFS <a class="header-anchor" href="#_2-2-安装-nfs" aria-label="Permalink to &quot;2.2 安装 NFS&quot;">​</a></h4><p>在终端执行以下命令：</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nfs-kernel-server</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_2-3-nfs-共享目录" tabindex="-1">2.3  NFS 共享目录 <a class="header-anchor" href="#_2-3-nfs-共享目录" aria-label="Permalink to &quot;2.3  NFS 共享目录&quot;">​</a></h4><p>接下来我们创建一个目录用于 NFS 共享服务：</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /home/sumu/4nfs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> chmod</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -R</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 777</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /home/sumu/4nfs/</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="_2-4-nfs-服务配置" tabindex="-1">2.4  NFS 服务配置 <a class="header-anchor" href="#_2-4-nfs-服务配置" aria-label="Permalink to &quot;2.4  NFS 服务配置&quot;">​</a></h4><p>在终端执行以下命令打开相关配置文件：</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vi</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/exports</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>然后在文件的尾部添加以下内容：</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/home/sumu/4nfs</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rw,sync,no_subtree_check,no_root_squash</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><p>/home/sumu/4nfs 是 nfs 服务器的工作目录，即客户端要访问的文件需要放到该目录下。</p></li><li><p>* 表示允许所有的网络段访问。</p></li><li><p>rw 表示访问者具有可读写权限。</p></li><li><p>sync 表示将缓存写入设备中，可以说是同步缓存的意思。</p></li><li><p>no_subtree_check 如果共享 /usr/bin 之类的子目录时， NFS 不检查父目录的权限（默认）</p></li><li><p>no_root_squash 表示访问者具有 root 权限。</p></li></ul><p>【注意】</p><p>（1） ubuntu17.10 之后的版本 nfs 默认只支持协议 3 和 4 ，但后续我们使用的 uboot(2013.01) 默认使用协议 2 ，所以需要在 /etc/default/nfs-kernel-server 文件末尾加一句如下内容：</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">RPCNFSDOPTS</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;--nfs-version 2,3,4 --debug --syslog&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>然后重启 nfs 服务即可。</p><p>（2）配置文件权限的 () 里面不能有空格。</p><h4 id="_2-5-重启-nfs-服务" tabindex="-1">2.5 重启 NFS 服务 <a class="header-anchor" href="#_2-5-重启-nfs-服务" aria-label="Permalink to &quot;2.5 重启 NFS 服务&quot;">​</a></h4><p>在终端执行以下命令：</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/init.d/nfs-kernel-server</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 或者</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> service</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nfs-kernel-server</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>【注意】在有的资料中看到以后每次重新打开 ubuntu 若要使用 nfs 都需要重启，在这里记录一下，后边遇到问题，可以首先尝试该种方法。</p><h4 id="_2-6-本地挂载与卸载共享目录" tabindex="-1">2.6 本地挂载与卸载共享目录 <a class="header-anchor" href="#_2-6-本地挂载与卸载共享目录" aria-label="Permalink to &quot;2.6 本地挂载与卸载共享目录&quot;">​</a></h4><ul><li>挂载</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mount</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -t</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nfs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> localhost:/home/sumu/4nfs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/nfs_temp/</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>卸载</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> umount</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/nfs_temp/</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_2-7-查看-nfs-共享目录" tabindex="-1">2.7 查看 NFS 共享目录 <a class="header-anchor" href="#_2-7-查看-nfs-共享目录" aria-label="Permalink to &quot;2.7 查看 NFS 共享目录&quot;">​</a></h4><p>在终端执行以下命令：</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">showmount</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>若是前边配置没有问题，则会显示如下信息：</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Export</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vm:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/home/sumu/4nfs</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> *</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>执行这个命令的时候可能会有如下提示：</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Command</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;showmount&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> not</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> found,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> but</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> can</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> be</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> installed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> with:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nfs-common</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>此时我们按照提示安装相关服务即可：</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nfs-common</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_2-8-检查-nfs-是否启动" tabindex="-1">2.8 检查 NFS 是否启动 <a class="header-anchor" href="#_2-8-检查-nfs-是否启动" aria-label="Permalink to &quot;2.8 检查 NFS 是否启动&quot;">​</a></h4><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> status</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nfs-server</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>若 NFS 服务已经启动，则会有以下提示信息：</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">●</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nfs-server.service</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> NFS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> server</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> and</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> services</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">     Loaded:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> loaded</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (/lib/systemd/system/nfs-server.service; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">enabled</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vendor</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">r</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    Drop-In:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /run/systemd/generator/nfs-server.service.d</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">             └─order-with-mounts.conf</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">     Active:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> active</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (exited) since Wed 2022-08-17 21:18:16 CST; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">13min</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ago</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    Process:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8515</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ExecStartPre=/usr/sbin/exportfs</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (code=exited, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">status=0/SU</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">C</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    Process:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8516</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ExecStart=/usr/sbin/rpc.nfsd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (code=exited, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">status=0/SUCCESS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   Main</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> PID:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8516</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (code=exited, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">status=0/SUCCESS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        CPU:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 15ms</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">8月</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 17</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 21:18:16</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemd[1]:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Starting</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> NFS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> server</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> and</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> services...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">8月</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 17</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 21:18:16</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemd[1]:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Finished</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> NFS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> server</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> and</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> services.</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="二、nfs-功能测试" tabindex="-1">二、NFS 功能测试 <a class="header-anchor" href="#二、nfs-功能测试" aria-label="Permalink to &quot;二、NFS 功能测试&quot;">​</a></h2><h3 id="_1-ubuntu-本地测试" tabindex="-1">1. ubuntu 本地测试 <a class="header-anchor" href="#_1-ubuntu-本地测试" aria-label="Permalink to &quot;1. ubuntu 本地测试&quot;">​</a></h3><h4 id="_1-1-在共享目录创建测试文件" tabindex="-1">1.1 在共享目录创建测试文件 <a class="header-anchor" href="#_1-1-在共享目录创建测试文件" aria-label="Permalink to &quot;1.1 在共享目录创建测试文件&quot;">​</a></h4><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /home/sumu/4nfs</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 进入到服务器工作目录</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> touch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test.c</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   # 创建一个新文件</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>创建的文件内容如下：</p><div class="language-c vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;stdio.h&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> argc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> char*</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> argv</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">[]</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="_1-2-挂载-nfs-共享目录" tabindex="-1">1.2 挂载 NFS 共享目录 <a class="header-anchor" href="#_1-2-挂载-nfs-共享目录" aria-label="Permalink to &quot;1.2 挂载 NFS 共享目录&quot;">​</a></h4><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">       # 回到家目录</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 使用 nfs 挂载工作目录到 /mnt </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/nfs_temp</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mount</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -t</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nfs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> localhost:/home/sumu/4nfs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/nfs_temp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 查看是否挂载成功</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ls</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/nfs_temp</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>若显示有 test.c 文件，且内容如下：</p><img src="`+l+`" alt="image-20251024073736955" style="zoom:50%;"><p>那么表示我们的 NFS 服务安装配置成功。</p><h3 id="_2-linux-开发板测试" tabindex="-1">2. linux 开发板测试 <a class="header-anchor" href="#_2-linux-开发板测试" aria-label="Permalink to &quot;2. linux 开发板测试&quot;">​</a></h3><p>开发板中是正点原子出厂系统，肯定是有 tftp 功能的，但是其实我们经常会再 uboot 中使用 tftp 下载 linux 内核镜像，然后启动内核，一般来说官方的 uboot 和 linux 都应该是支持的。</p><h4 id="_2-1-开发板-ip-配置" tabindex="-1">2.1 开发板 ip 配置 <a class="header-anchor" href="#_2-1-开发板-ip-配置" aria-label="Permalink to &quot;2.1 开发板 ip 配置&quot;">​</a></h4><p>按照上一节《LV02-03-网络环境-01-网络开发环境搭建》配置好 uboot、开发板、windows 的 IP，使其三者可以互相 ping 通。三者的 IP 如下：</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">开发板</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> IP</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   ：</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 192.168.10.103</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">虚拟机</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> IP</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   ：</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 192.168.10.101</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">电脑网口的</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> IP：</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 192.168.10.100</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="_2-2-挂载共享目录到开发板" tabindex="-1">2.2 挂载共享目录到开发板 <a class="header-anchor" href="#_2-2-挂载共享目录到开发板" aria-label="Permalink to &quot;2.2 挂载共享目录到开发板&quot;">​</a></h4><p>一般来说我们搭建 NFS 环境也是为了能将文件从 Ubuntu 传输到我们的 linux 开发板，当我们配置好 Linux 开发板和 ubuntu 的网络环境，两者之间互相可以 ping 通的时候，我们可以这样来实现文件的传输。</p><p>在开发板上查看 NFS 服务器的共享目录：</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 需要开发板支持showmount命令，且可以与服务器ping通</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">showmount</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 192.168.10.101</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="`+p+`" alt="image-20251024074132079"></p><p>然后在开发板的终端中执行：</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/nfs_temp</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 创建临时挂载目录</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mount</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -t</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nfs</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nolock,nfsvers=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Ubuntu_I</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">P</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Ubuntu_NFS_di</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">r</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/nfs_temp/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">df</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                 # 查看挂载目录</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">umount</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/nfs_temp/</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 卸载挂载目录</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>这样我们便可以将 ubuntu 中的 Ubuntu_NFS_dir 目录也就是 NFS 共享目录下的文件挂载到 Linux 开发板的 ~/nfs_temp/ 中，我们可以直接在 ~/nfs_temp/ 中拷贝我们需要的文件。例如我们在终端执行：</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/nfs_temp</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mount</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -t</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nfs</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nolock,nfsvers=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 192.168.10.101:/home/sumu/4nfs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/nfs_temp</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">df</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                 # 查看挂载目录</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ls</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/nfs_temp</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>若是挂载成功，那么便会有以下信息：</p><img src="`+t+'" alt="image-20251024074405757" style="zoom:50%;"><p>中间有一次目录中什么也没有是因为我之前挂载过，但是吧目录删掉了，也把服务器的文件删了，重新添加就好了。</p><h3 id="_3-windows-挂载测试" tabindex="-1">3. windows 挂载测试 <a class="header-anchor" href="#_3-windows-挂载测试" aria-label="Permalink to &quot;3. windows 挂载测试&quot;">​</a></h3><h4 id="_3-1-启动-windows-的-nfs-服务" tabindex="-1">3.1 启动 windows 的 NFS 服务 <a class="header-anchor" href="#_3-1-启动-windows-的-nfs-服务" aria-label="Permalink to &quot;3.1 启动 windows 的 NFS 服务&quot;">​</a></h4><ul><li>（1）【控制面板】→【程序】→【启用或者关闭 Windows 功能】</li></ul><img src="'+h+'" alt="image-20230718225611215" style="zoom:50%;"><ul><li>（2）【勾选 NFS 服务】→【确定】→【重启系统】</li></ul><img src="'+r+'" alt="image-20251024075411659" style="zoom:33%;"><h4 id="_3-2-挂载-nfs-目录" tabindex="-1">3.2 挂载 nfs 目录 <a class="header-anchor" href="#_3-2-挂载-nfs-目录" aria-label="Permalink to &quot;3.2 挂载 nfs 目录&quot;">​</a></h4><ul><li>（1）【打开文件资源管理器】→【映射网络驱动器】</li></ul><img src="'+k+'" alt="image-20251024074759080" style="zoom:50%;"><ul><li>（2）【选择驱动器编号】→【输入地址】</li></ul><img src="'+d+`" alt="image-20251024075050884" style="zoom:50%;"><p>地址的格式为：</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># \\\\&lt;nfs_server_ip&gt;\\&lt;nfs_path&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 在这里就是：</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">\\\\192.168.10.101\\home\\sumu\\4nfs</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>（3）若是成功挂载则会有如下显示：</li></ul><img src="`+c+'" alt="image-20251024075119613" style="zoom:67%;"><p>我们打开看一下就会发现有如下文件：</p><img src="'+o+'" alt="image-20251024075228668" style="zoom:50%;">',111)])])}const B=i(u,[["render",F]]);export{v as __pageData,B as default};
